from random import *


def get_world(li):
    return choice(li).upper()


def display_hangman(count1):
    stages = [  # финальное состояние: голова, торс, обе руки, обе ноги
        '''
            _______________________________________
            ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
            ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ____$$$$$_________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ___$ZZZZZ$________________$$$$$$$______
            __$$$$$$$$$_______________$$$$$$$______
            __$_$$$$$_$_______________$$$$$$$______
            __$_$$$$$_$_______________$$$$$$$______
            __$_$$$$$_$_______________$$$$$$$______
            ____$$_$$_________________$$$$$$$______
            ___$$___$$________________$$$$$$$______
            ___$$___$$________________$$$$$$$______
            ___$$___$$_____________$$$$$$$$$$$$$___
            $__$$___$$__$$$$$$$$$$$$$$$$$$$$$$$$$$$
            _\\_________/_______$$$$$$$$$$$$$$$$$$$$$
            __\\_______/________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
        ''',
        # голова, торс, обе руки, одна нога
        '''
            _______________________________________
            ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
            ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ____$$$$$_________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ___$ZZZZZ$________________$$$$$$$______
            __$$$$$$$$$_______________$$$$$$$______
            __$_$$$$$_$_______________$$$$$$$______
            __$_$$$$$_$_______________$$$$$$$______
            __$_$$$$$_$_______________$$$$$$$______
            ____$$____________________$$$$$$$______
            ___$$_____________________$$$$$$$______
            ___$$_____________________$$$$$$$______
            ___$$__________________$$$$$$$$$$$$$___
            $__$$_______$$$$$$$$$$$$$$$$$$$$$$$$$$$
            _\\_________/_______$$$$$$$$$$$$$$$$$$$$$
            __\\_______/________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
        ''',
        # голова, торс, обе руки
        '''
            _______________________________________
            ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
            ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ____$$$$$_________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ___$ZZZZZ$________________$$$$$$$______
            __$$$$$$$$$_______________$$$$$$$______
            __$_$$$$$_$_______________$$$$$$$______
            __$_$$$$$_$_______________$$$$$$$______
            __$_$$$$$_$_______________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            _______________________$$$$$$$$$$$$$___
            $___________$$$$$$$$$$$$$$$$$$$$$$$$$$$
            _\\_________/_______$$$$$$$$$$$$$$$$$$$$$
            __\\_______/________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
        ''',
        # голова, торс и одна рука
        '''
            _______________________________________
            ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
            ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ____$$$$$_________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ___$ZZZZZ_________________$$$$$$$______
            __$$$$$$$_________________$$$$$$$______
            __$_$$$$$_________________$$$$$$$______
            __$_$$$$$_________________$$$$$$$______
            __$_$$$$$_________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            _______________________$$$$$$$$$$$$$___
            $___________$$$$$$$$$$$$$$$$$$$$$$$$$$$
            _\\_________/_______$$$$$$$$$$$$$$$$$$$$$
            __\\_______/________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
        ''',
        # голова и торс
        '''
            _______________________________________
            ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
            ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ____$$$$$_________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ____ZZZZZ_________________$$$$$$$______
            ____$$$$$_________________$$$$$$$______
            ____$$$$$_________________$$$$$$$______
            ____$$$$$_________________$$$$$$$______
            ____$$$$$_________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            _______________________$$$$$$$$$$$$$___
            $___________$$$$$$$$$$$$$$$$$$$$$$$$$$$
            _\\_________/_______$$$$$$$$$$$$$$$$$$$$$
            __\\_______/________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
        ''',
        # голова
        '''
            _______________________________________
            ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
            ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ____$$$$$_________________$$$$$$$______
            _____$$$__________________$$$$$$$______
            ____ZZZZZ_________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            _______________________$$$$$$$$$$$$$___
            $___________$$$$$$$$$$$$$$$$$$$$$$$$$$$
            _\\_________/_______$$$$$$$$$$$$$$$$$$$$$
            __\\_______/________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
        ''',
        # начальное состояние
        '''
            _______________________________________
            ___$$$$$$$$$$______Я-ВИСЕЛИЦА!_________
            ___$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$___
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            ______Z___________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            ____ZZZZZ_________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            __________________________$$$$$$$______
            _______________________$$$$$$$$$$$$$___
            $___________$$$$$$$$$$$$$$$$$$$$$$$$$$$
            _\\_________/_______$$$$$$$$$$$$$$$$$$$$$
            __\\_______/________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
            __________________$$$$$$$$$$$$$$$$$$$$$
        '''
    ]
    return stages[count1]


def play(word):
    print('(У вас 6 попыток)')
    print('Я загадал слово!')
    count = 6
    print(display_hangman(count))
    lisl = []
    li = ['_' for i in range(len(word))]
    guessed_letters = []
    guessed_words = []
    print('Cлово', '_' * len(word))
    while count > 0:
        s = input('Введите вашу букву или слово ( на русском языке ):').upper()
        if len(s) == 1 and s.isalpha():
            c = 0
            if s in guessed_letters:
                print('Вы уже вводили эту букву')
                continue
            for i in range(len(word)):
                if s == word[i]:
                    del li[i]
                    li.insert(i, s)
                    c += 1
                if ''.join(li) == word:
                    print('Поздравляем, вы угадали слово! Вы победили!')
                    return print(*li)

            if c == 0:
                print('Жаль...Вы не угадали букву')
                count -= 1
                print(display_hangman(count))
                print(f'У вас осталось {count} попыток')
                print(*li)
            elif c > 0:
                print('Вы угадали', c, 'букв')
                print(*li)
            guessed_letters.append(s)
        elif len(s) > 1 and s.isalpha():
            if s in guessed_words:
                print('Вы уже вводили это слово')
                continue
            if s == word:
                print('Поздравляем, вы угадали слово! Вы победили!')
                lisl.append(s)
                return print(*lisl)
            else:
                print('Вы не угадали')
                count -= 1
                print(display_hangman(count))
                print(f'У вас осталось {count} попыток')
                print(*li)
            guessed_words.append(s)
        else:
            print('Вы ввели не буквенный символ')
    return print(f'Увы...Игра не пройдена. Слово было {word}')


word_list = ['футболка', 'шорты', 'улыбка', 'счастье', 'альпинист', 'игрист',
             'шафер', 'глаз', 'губы', 'одеяло', 'туалет', 'император', 'князь',
             'качель', 'футбол', 'волейбол', 'орел', 'рыба', 'мяч', 'мыло',
             'треугольник', 'апельсин', 'медведь', 'грейпфрут', 'ниндзя', 'коктель',
             'вертушка', 'гиббон', 'артель', 'силикон', 'штанга', 'шифер',
             'принадлежность', 'параболоид', 'длиномер', 'контроллер']

print('Давайте играть в угадайку!')
play(get_world(word_list))
zh = 'да'
while zh == 'да':
    zh = input('Вы желаете сыграть еще раз?(да/нет) ')
    if zh == 'да':
        print('-' * 100)
        play(get_world(word_list))
